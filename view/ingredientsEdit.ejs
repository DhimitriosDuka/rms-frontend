<!DOCTYPE html>
<html lang="en">
  <head>
      <meta charset="UTF-8">
      <title>Edit Ingredient</title>
      <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
  </head>
  <body>
  <%- include('./partial/navbar.ejs') %>
  <div class="container mt-5">
      <h2>Edit ingredient: <em><%= ingredient.name %></em></h2>
        <div class="row mt-5">
            <form method="POST" action="/ingredient/edit/<%=`${ingredient.id}`%>">
                <% if(typeof messages.error != 'undefined') {%>
                    <div class="alert alert-danger" role="alert">
                        <%= messages.error %>
                    </div>
                <% } %>
                <div class="row">
                    <div class="form-group col-2">
                        <label for="name">Ingredinet name</label>
                        <input
                                type="text"
                                class="form-control style-border border-0 border-bottom"
                                name="name"
                                id="name"
                                value= <%= ingredient.name %>
                                required
                        />
                    </div>
                    <div class="form-group col-2">
                        <label for="calories">Calories</label>
                        <input
                                type="number"
                                class="form-control style-border border-0 border-bottom"
                                name="calories"
                                id="calories"
                                min= "0"
                                step=".01"
                                value= <%= ingredient.calories %>
                                required
                        />
                    </div>
                    <div class="form-group col-2">
                        <label for="amount">Amount</label>
                        <input
                                type="number"
                                class="form-control style-border border-0 border-bottom"
                                name="amount"
                                id="amount"
                                min= "0"
                                value=  <%= ingredient.amount %>
                                required
                        />
                    </div>
                    <div class="form-group col-2">
                        <label for="unit">Unit</label>
                        <select class="form-select  border-0 border-bottom" aria-label="Default select example border-0 border-bottom" name="unit">
                            <option <% if(ingredient.unit == "ML") {%> selected <% }%> value="ML">ML</option>
                            <option <% if(ingredient.unit == "GRAM") {%> selected <% }%> value="GRAM">GRAM</option>
                            <option <% if(ingredient.unit == "OUNCE") {%> selected <% }%> value="OUNCE">OUNCE</option>
                            <option <% if(ingredient.unit == "CUP") {%> selected <% }%> value="CUP">CUP</option>
                        </select>
                    </div>
                    <div class="form-group col-2">
                        <label for="fat">Fat</label>
                        <input
                                type="number"
                                class="form-control style-border border-0 border-bottom"
                                name="fat"
                                id="fat"
                                min= "0"
                                step=".01"
                                value=  <%= ingredient.fat %>
                                required
                        />
                    </div>
                    <div class="form-group col-2">
                        <label for="cholesterol">Cholesterol</label>
                        <input
                                type="number"
                                class="form-control style-border border-0 border-bottom"
                                name="cholesterol"
                                id="cholesterol"
                                min= "0"
                                step=".01"
                                value=  <%= ingredient.cholesterol %>
                                required
                        />
                    </div>
                </div>
                <div class="row justify-content-center mt-4">
                    <div class="form-group col-2">
                        <label for="sodium">Sodium</label>
                        <input
                                type="number"
                                class="form-control style-border border-0 border-bottom"
                                name="sodium"
                                id="sodium"
                                step=".01"
                                value=  <%= ingredient.sodium %>
                                required
                        />
                    </div>
                    <div class="form-group col-2">
                        <label for="protein">Protein</label>
                        <input
                                type="number"
                                class="form-control style-border border-0 border-bottom"
                                name="protein"
                                id="protein"
                                step=".01"
                                value=  <%= ingredient.protein %>
                                required
                        />
                    </div>
                    <div class="form-group col-2">
                        <label for="sugar">Sugar</label>
                        <input
                                type="number"
                                class="form-control style-border border-0 border-bottom"
                                name="sugar"
                                id="sugar"
                                step=".01"
                                value=  <%= ingredient.sugar %>
                                required
                        />
                    </div>
                    <div class="form-group col-2">
                        <label for="foodGroup">Food Group</label>
                        <select class="form-select border-0 border-bottom" aria-label="Default select example" name="foodGroup">
                            <option <% if(ingredient.foodGroup == "FRUITS") {%> selected <% }%>  value="FRUITS">FRUITS</option>
                            <option <% if(ingredient.foodGroup == "VEGETABLE") {%> selected <% }%> value="VEGETABLE">VEGETABLE</option>
                            <option <% if(ingredient.foodGroup == "GRAIN") {%> selected <% }%> value="GRAIN">GRAIN</option>
                            <option <% if(ingredient.foodGroup == "PROTEIN") {%> selected <% }%> value="PROTEIN">PROTEIN</option>
                            <option <% if(ingredient.foodGroup == "DAIRY") {%> selected <% }%> value="DAIRY">DAIRY</option>
                        </select>
                    </div>
                </div>
                <div class="row justify-content-center mt-4">
                    <div class="col-4">
                        <button type="submit" class="btn w-100 shadow-sm">Update</button>
                    </div>
                </div>
            </form>
        </div>
    </div>
  </body>
</html>